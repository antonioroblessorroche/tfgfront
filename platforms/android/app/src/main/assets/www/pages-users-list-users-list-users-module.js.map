{"version":3,"sources":["./src/app/pages/users/list-users/list-users.module.ts","./src/app/pages/users/list-users/list-users.page.html","./src/app/pages/users/list-users/list-users-routing.module.ts","./src/app/pages/users/list-users/list-users.page.ts","./src/app/pages/users/list-users/list-users.page.scss"],"names":[],"mappings":"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","file":"pages-users-list-users-list-users-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListUsersPageRoutingModule } from './list-users-routing.module';\n\nimport { ListUsersPage } from './list-users.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ListUsersPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [ListUsersPage]\n})\nexport class ListUsersPageModule {}\n","export default \"<app-header title=\\\"Usuarios\\\"></app-header>\\n\\n<ion-content>\\n    <div class=\\\"ion-text-center ion-margin-top\\\">\\n      \\n    </div>\\n    <ion-searchbar searchIcon=\\\"search\\\" \\n      animated\\n      cancel-button-icon\\n      (ionCancel)=\\\"hideSearch()\\\"\\n      (search)=\\\"getWorkouts()\\\"\\n      (ionChange)=\\\"setSearchValue($event.target.value)\\\"\\n      placeholder=\\\"Buscar usuarios\\\">\\n    </ion-searchbar>\\n    \\n    <ion-row>\\n      <ion-col col-6 >\\n        <ion-button (click)=\\\"getWorkouts()\\\" expand=\\\"block\\\">\\n          <ion-icon name=\\\"search\\\"></ion-icon>\\n           Buscar    \\n        </ion-button>\\n      </ion-col>      <ion-col col-6 >\\n\\n        <ion-button expand=\\\"block\\\" color=\\\"success\\\" routerLink=\\\"/create-new-user\\\">\\n          <ion-icon name=\\\"add\\\"></ion-icon>\\n          Nuevo usuario    \\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n        \\n    \\n\\n\\n    <!-- <ion-content> -->\\n        <ion-list *ngFor=\\\"let user of users\\\">\\n            <ion-item-sliding>\\n                <ion-item-options side=\\\"start\\\" >\\n                  <ion-item-option routerLink=\\\"/user-detail/{{user.id}}\\\">\\n                    <ion-icon name=\\\"eye\\\" slot=\\\"icon-only\\\">\\n                    </ion-icon>  \\n        \\n                  </ion-item-option>\\n                  \\n                </ion-item-options>\\n            \\n                <ion-item>\\n                  <ion-label>{{user.nombre}}</ion-label>\\n                </ion-item>\\n            \\n                <!-- <ion-item-options side=\\\"end\\\">\\n                    <ion-item-option color=\\\"warning\\\" routerLink=\\\"/edit-workout/{{workout.id}}\\\">\\n                        <ion-icon name=\\\"create\\\" slot=\\\"icon-only\\\" >\\n                        </ion-icon>  \\n                    </ion-item-option>\\n                    <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteConfirm(workout.id)\\\">\\n                        <ion-icon name=\\\"trash\\\" slot=\\\"icon-only\\\" >\\n                        </ion-icon>  \\n                    </ion-item-option>\\n                </ion-item-options> -->\\n            </ion-item-sliding>\\n        </ion-list>\\n\\n\\n\\n\\n        <ion-infinite-scroll (ionInfinite)=\\\"loadData($event)\\\">\\n          <ion-infinite-scroll-content\\n            loadingSpinner=\\\"bubbles\\\"\\n            loadingText=\\\"Loading more data...\\\">\\n          </ion-infinite-scroll-content>\\n        </ion-infinite-scroll>\\n      <!-- </ion-content> -->\\n      \\n\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListUsersPage } from './list-users.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListUsersPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListUsersPageRoutingModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, IonInfiniteScroll, ToastController } from '@ionic/angular';\nimport { ReducedUser } from 'src/app/models/reducedUser';\nimport { Workout } from 'src/app/models/workout';\nimport { UserService } from 'src/app/services/user.service';\nimport { WorkoutService } from 'src/app/services/workout.service';\n\n@Component({\n  selector: 'app-list-users',\n  templateUrl: './list-users.page.html',\n  styleUrls: ['./list-users.page.scss'],\n})\nexport class ListUsersPage implements OnInit {\n\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n  users: ReducedUser[] = [];\n\n  page = 0;\n  searchValue = '';\n\n  constructor(\n    private userService: UserService,\n    private router: Router,\n    private toastController: ToastController,\n    private alertController: AlertController\n  ) { }\n\n\n\n    getWorkouts() {\n      this.users = [];\n      this.page = 0;\n      if (this.searchValue != '') {\n        this.userService.userList(this.searchValue,this.page).subscribe(\n          data => {\n            this.users = data.content;\n          },\n          err => {\n            console.log(\"petó\");\n            console.log(err);\n          }\n        );\n      } else {\n        this.cargar();\n      }\n      this.page+=1;\n      \n    }\n\n    setSearchValue(searchVal: string) {\n      this.searchValue = searchVal;\n    }\n\n \n\n loadData(event) {\n  event.target.disabled = false;\n  // if (this.searchValue != '') {\n  //   this.userService.userList(this.page).subscribe(\n  //     data => {\n  //       let dataSize = data.content.length;\n  //       if (dataSize > 0) {\n  //         for (let i = 0; i< dataSize; i++) {\n  //           this.workouts.push(data.content[i]);\n  //         }\n  //        this.page+=1;\n  //       }  else {\n  //         // event.target.disabled = true;\n  //         event.target.complete();\n  //       }        \n  //     },\n  //     err => {\n  //       console.log(\"petó\");\n  //       console.log(err);\n  //     }\n  //   );\n  // } else {\n    this.userService.userList(this.searchValue, this.page).subscribe(\n      data => {\n        let dataSize = data.content.length;\n        if (dataSize > 0) {\n          for (let i = 0; i< dataSize; i++) {\n            this.users.push(data.content[i]);\n          }\n         this.page+=1;\n        }  else {\n          // event.target.disabled = true;\n          event.target.complete();\n        }        \n      },\n      err => {\n        console.log(\"petó\");\n        console.log(err);\n      }\n    );\n  // }\n  // event.target.complete();\n  // event.target.disabled = true;\n\n\n  \n    setTimeout(() => {\n      event.target.complete();\n    }, 500);\n  }\n\n  toggleInfiniteScroll() {\n    this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\n  }\n\n\n\n\n  ngOnInit() {\n    // this.cargar();\n  }\n\n  ionViewWillEnter() {\n    // this.cargar();\n    // this.page+=1;\n  }\n\n  cargar(): void {\n    this.userService.userList(this.searchValue,this.page).subscribe(\n      data => {\n        this.users = data.content;\n      },\n      err => {\n        console.log(\"petó\");\n        console.log(err);\n      }\n    );\n  }\n\n  async presentToast(mensaje: string) {\n    const toast = await this.toastController.create({\n      message: mensaje,\n      duration: 2000,\n      position: 'middle'\n    });\n    toast.present();\n  }\n\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0LXVzZXJzLnBhZ2Uuc2NzcyJ9 */\";"],"sourceRoot":"webpack:///"}