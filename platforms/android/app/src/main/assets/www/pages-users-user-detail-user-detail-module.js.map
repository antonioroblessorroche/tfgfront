{"version":3,"sources":["./src/app/pages/users/user-detail/user-detail.module.ts","./src/app/pages/users/user-detail/user-detail-routing.module.ts","./src/app/pages/users/user-detail/user-detail.page.html","./src/app/pages/users/user-detail/user-detail.page.ts","./src/app/pages/users/user-detail/user-detail.page.scss"],"names":[],"mappings":"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","file":"pages-users-user-detail-user-detail-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserDetailPageRoutingModule } from './user-detail-routing.module';\n\nimport { UserDetailPage } from './user-detail.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\nimport { IonicSelectableModule } from 'ionic-selectable';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UserDetailPageRoutingModule,\n    ComponentsModule,\n    IonicSelectableModule\n  ],\n  declarations: [UserDetailPage]\n})\nexport class UserDetailPageModule {}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserDetailPage } from './user-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserDetailPageRoutingModule {}\n","export default \"<app-header title=\\\"Perfil de usuario\\\"></app-header>\\n\\n\\n   \\n\\n\\n\\n\\n\\n    <!-- <ion-item>\\n        <ion-segment (ionChange)=\\\"segmentChanged($event)\\\">\\n            <ion-segment-button value=\\\"profile\\\">\\n                <ion-label>Perfil</ion-label>\\n            </ion-segment-button>\\n            <ion-segment-button value=\\\"measures\\\">\\n                <ion-label>Mediciones</ion-label>\\n            </ion-segment-button>\\n            <ion-segment-button value=\\\"goals\\\">\\n                <ion-label>Objetivos</ion-label>\\n            </ion-segment-button>\\n        </ion-segment>\\n    </ion-item> -->\\n    <ion-content *ngIf=\\\"profile\\\">\\n\\n      <!-- <ion-item class='ion-padding'>\\n        <ion-avatar slot=\\\"start\\\">\\n          <img src=\\\"https://es.gravatar.com/userimage/196648361/6547f10b6d19e0502a7c4ed4fcc2ccca.jpg\\\">\\n        </ion-avatar>\\n           <ion-label> {{profile.nombreUsuario}} </ion-label>\\n      </ion-item> -->\\n      <ion-item>\\n    <ion-row>\\n        <ion-col col-9>\\n           \\n                <ion-segment (ionChange)=\\\"segmentChanged($event)\\\">\\n                    <ion-segment-button value=\\\"profile\\\">\\n                        <ion-label>Perfil</ion-label>\\n                    </ion-segment-button>\\n                    <ion-segment-button value=\\\"comments\\\">\\n                        <ion-label>Observaciones</ion-label>\\n                    </ion-segment-button>\\n                    <ion-segment-button value=\\\"payments\\\">\\n                        <ion-label>Pagos</ion-label>\\n                    </ion-segment-button>\\n                </ion-segment>\\n            \\n    \\n        </ion-col>\\n        <ion-col col-3>\\n                <ion-button expand=\\\"block\\\" color=\\\"success\\\" (click)=\\\"actualizar()\\\" *ngIf=\\\"selector != 'payments'\\\" >\\n                    <ion-label>Actualizar</ion-label>\\n                </ion-button>\\n                <ion-button expand=\\\"block\\\" color=\\\"success\\\" routerLink=\\\"/new-user-payment/{{profile.id}}\\\" *ngIf=\\\"selector == 'payments'\\\" >\\n                <ion-label>Añadir pago usuario</ion-label>\\n            </ion-button>\\n        </ion-col>\\n       \\n    </ion-row>\\n</ion-item>\\n      \\n\\n    <ion-content *ngIf=\\\"selector == 'profile'\\\">\\n      \\n        <ion-item>\\n            <ion-label position=\\\"stacked\\\">Nombre completo</ion-label>\\n            <ion-input placeholder=\\\"Nombre completo\\\" [(ngModel)]=\\\"profile.nombre\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label position=\\\"stacked\\\">Nombre de usuario</ion-label>\\n            <ion-input placeholder=\\\"Nombre completo\\\" [(ngModel)]=\\\"profile.nombreUsuario\\\"></ion-input>\\n          </ion-item>\\n\\n          <ion-item>\\n            <ion-label position=\\\"stacked\\\">Tarifa</ion-label>\\n            <ion-input  *ngIf=\\\"!currentFare\\\" >Sin tarifa asociada</ion-input>\\n            <ion-input  *ngIf=\\\"currentFare\\\" >{{currentFare.name}} ({{currentFare.amount}}€)</ion-input>\\n          </ion-item>\\n\\n          <ion-item>\\n              <ion-label >Realizar cambio de tarifa</ion-label>\\n              <!-- <ion-input placeholder=\\\"Fecha de nacimiento\\\"></ion-input> -->\\n              <!-- <ion-input></ion-input> -->\\n              <ionic-selectable\\n                [(ngModel)]=\\\"profile.fareId\\\"\\n                  [items]=\\\"fares\\\"\\n                  itemValueField=\\\"id\\\"\\n                  itemTextField=\\\"name\\\"\\n                  [canSearch]=\\\"true\\\"\\n                  (onChange)=\\\"selectFareId($event)\\\">\\n              </ionic-selectable>\\n          </ion-item>\\n\\n          <ion-item>\\n            <ion-checkbox color=\\\"success\\\" expand=\\\"block\\\" [(ngModel)]=\\\"profile.admin\\\" [ngModelOptions]=\\\"{standalone: true}\\\">Administrador</ion-checkbox>\\n            <ion-label style=\\\"margin-left: 15px\\\">Administrador</ion-label>\\n          </ion-item>\\n\\n          <ion-item>\\n            <ion-checkbox color=\\\"danger\\\" expand=\\\"block\\\" (ionChange)=\\\"changeActive($event.detail.checked)\\\" [(ngModel)]=\\\"profile.active\\\" [ngModelOptions]=\\\"{standalone: true}\\\">Activo</ion-checkbox>\\n            <ion-label style=\\\"margin-left: 15px\\\">Activo</ion-label>\\n          </ion-item>\\n\\n    </ion-content>\\n\\n    <ion-content *ngIf=\\\"selector == 'comments'\\\">\\n        <ion-item>\\n          <ion-textarea rows=\\\"30\\\" placeholder=\\\"Anotaciones sobre el usuario...\\\" [(ngModel)]=\\\"profile.comments\\\"></ion-textarea>\\n          </ion-item>\\n    </ion-content>\\n\\n    <ion-content *ngIf=\\\"selector == 'payments' && payments\\\">\\n        <ion-list *ngFor=\\\"let payment of payments\\\">\\n            <ion-item-sliding>\\n                <!-- <ion-item-options side=\\\"start\\\" >\\n                   <ion-item-option routerLink=\\\"/edit-weekly-classes/{{workout.id}}\\\">\\n                    <ion-icon name=\\\"eye\\\" slot=\\\"icon-only\\\">\\n                    </ion-icon>  \\n        \\n                  </ion-item-option> \\n                  \\n                 </ion-item-options> -->\\n            \\n                <ion-item>\\n                  <ion-label>{{payment.month}}/{{payment.year}}: {{payment.amount}}€ ({{payment.method}})\\n                  </ion-label>\\n                </ion-item>\\n            \\n            </ion-item-sliding>\\n        </ion-list>\\n\\n        <ion-infinite-scroll (ionInfinite)=\\\"loadData($event)\\\">\\n            <ion-infinite-scroll-content\\n              loadingSpinner=\\\"bubbles\\\"\\n              loadingText=\\\"Loading more data...\\\">\\n            </ion-infinite-scroll-content>\\n          </ion-infinite-scroll>\\n  </ion-content>\\n\\n    <!-- <ion-item> \\n        <ion-button expand=\\\"block\\\" color=\\\"success\\\" (click)=\\\"actualizar()\\\">\\n            <ion-icon name=\\\"add-circle\\\"></ion-icon>\\n            <ion-label>Actualizar</ion-label>\\n        </ion-button>\\n    </ion-item> -->\\n\\n</ion-content>\\n\\n\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlertController, IonInfiniteScroll, ModalController, ToastController } from '@ionic/angular';\nimport { Fare } from 'src/app/models/fare';\nimport { Profile } from 'src/app/models/profile';\nimport { ReducedUser } from 'src/app/models/reducedUser';\nimport { UserPayment } from 'src/app/models/userPayment';\nimport { FareService } from 'src/app/services/fare.service';\nimport { TokenService } from 'src/app/services/token.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { UserPaymentService } from 'src/app/services/userpaymen.service';\n\n@Component({\n  selector: 'app-user-detail',\n  templateUrl: './user-detail.page.html',\n  styleUrls: ['./user-detail.page.scss'],\n})\nexport class UserDetailPage implements OnInit {\n\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\n\n  profile: ReducedUser;\n  fares: Fare[] = [];\n  //MOCKED DATA\n  // selectedFare: string;\n  currentFare: Fare;\n  payments: UserPayment[] = [];\n  isActive: boolean;\n  isAdmin: boolean;\n\n  user : string = \"\";\n  page: 0;\n\n  selector = \"profile\";\n\n  constructor(\n    private userService: UserService,\n    private fareService: FareService,\n    private userPaymentService: UserPaymentService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private toastController: ToastController,\n    private alertController: AlertController,\n    private tokenService: TokenService,\n    private modalController: ModalController\n  ) { }\n\n  ngOnInit() {\n    // this.page = 0;\n    // this.cargarFares();\n    // this.cargar();\n  }\n\n  ionViewWillEnter() {\n    this.payments = [];\n    this.page = 0;\n    this.cargarFares();\n    this.cargar();\n    this.cargarPayments();\n  }\n\n  loadData(event) {\n    event.target.disabled = false;\n      this.cargarPaymentsByUser(event);\n      setTimeout(() => {\n        event.target.complete();\n      }, 500);\n    }\n\n   cargarPaymentsByUser(event: any) {\n       event.target.disabled = false;\n     console.log(\"Event donete\");\n    const id = this.activatedRoute.snapshot.params.id;\n    this.userPaymentService.listaByUser(this.page, id).subscribe(\n        data => {\n          console.log(data);\n            let dataSize = data.content.length;\n            if (dataSize > 0) {\n                for (let i = 0; i < dataSize; i++) {\n                    this.payments.push(data.content[i]);\n                }\n                this.page += 1;\n            } else {\n                // event.target.disabled = true;\n                event.target.complete();\n            }\n        },\n        err => {\n            console.log(\"petó\");\n            console.log(err);\n        }\n    );\n}\n\ntoggleInfiniteScroll() {\n  this.infiniteScroll.disabled = !this.infiniteScroll.disabled;\n}\n\n    changeActive(event) {\n      this.profile.active = event;\n      this.profile.activationRejected = false;\n    }\n\n    changeAdmin(event) {\n      this.profile.admin = event;\n    }\n\n  cargarPayments() {\n    const id = this.activatedRoute.snapshot.params.id;\n    this.userPaymentService.listaByUser(this.page, id).subscribe(\n        data => {\n          console.log(data);\n            let dataSize = data.content.length;\n            if (dataSize > 0) {\n                for (let i = 0; i < dataSize; i++) {\n                    this.payments.push(data.content[i]);\n                }\n                this.page += 1;\n            } else {\n                // event.target.disabled = true;\n            }\n        },\n        err => {\n            console.log(\"petó\");\n            console.log(err);\n        }\n    );\n  }\n\n  cargarFares() {\n    this.fareService.lista(100).subscribe(data => {\n      this.fares = data.content;\n    }, err => {\n      console.log(err);\n      this.presentToast('Error cargando tarifas');\n    });\n  }\n\n  selectFareId(event) {\n    this.profile.fareId = event.value.id;\n    for (let i = 0; i < this.fares.length; i++) {\n      if (this.profile.fareId == this.fares[i].id) {\n        this.currentFare = this.fares[i];\n      }\n    }\n   }\n\n  segmentChanged($event) {\n    this.selector = $event.detail.value;\n    console.log($event.detail.value);\n  }\n\n  cargar(): void {\n    const id = this.activatedRoute.snapshot.params.id;\n    // if (this.tokenService.getAuthorities().length > 1) {\n      this.userService.userdataById(id).subscribe(\n        data => {\n          this.profile = data;\n          for (let i = 0; i < this.fares.length; i++) {\n            if (this.profile.fareId == this.fares[i].id) {\n              this.currentFare = this.fares[i];\n            }\n          }\n        },\n        err => {\n          console.log(\"petó\");\n          console.log(err);\n        }\n      );\n\n    // }\n    //  else {\n    //   this.user = this.tokenService.getUsername();\n    //   this.profileService.findByUser(this.user).subscribe(\n    //     data => {\n    //       this.profiles = data.content;\n    //       console.log(this.profiles);\n    //     },\n    //     err => {\n    //       console.log(\"petó\");\n    //       console.log(err);\n    //     }\n    //   );\n    // }\n\n  }\n\n  actualizar() {\n    const id = this.activatedRoute.snapshot.params.id;\n    this.userService.actualizar(this.profile.id, this.profile).subscribe(\n      data => {\n        this.presentToast(\"Usuario actualizado correctamente\");\n      }, err => {\n        this.presentToast(\"Error actualizando usuario\");\n      }\n    );\n  }\n\n\n  async presentToast(mensaje: string) {\n    const toast = await this.toastController.create({\n      message: mensaje,\n      duration: 2000,\n      position: 'middle'\n    });\n    toast.present();\n  }\n\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ1c2VyLWRldGFpbC5wYWdlLnNjc3MifQ== */\";"],"sourceRoot":"webpack:///"}